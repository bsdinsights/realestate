<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record model="ir.ui.view" id="bsd_product_template_form">
        <field name="name">bsd.product.template.form</field>
        <field name="model">product.template</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <button string="Ưu tiên"
                            name="action_uu_tien"
                            type="object"
                            attrs="{'invisible':[('bsd_uu_tien','=','1'),('state','in',['chuan_bi','xu_ly'])]}"
                            class="oe_highlight"/>
                    <button string="Hủy ưu tiên"
                            name="action_huy_uu_tien"
                            type="object"
                            attrs="{'invisible':[('bsd_uu_tien','=','0'),('state','in',['chuan_bi','xu_ly'])]}"
                            class="oe_highlight"/>
                    <field name="state" widget="statusbar" statusbar_visible="0"/>
                </header>
                <sheet>
                    <group string="THÔNG TIN CHUNG">
                        <group>
                            <field name="bsd_du_an_id"
                                   options="{'no_create':true}"/>
                            <field name="bsd_toa_nha_id"
                                   domain="[('bsd_du_an_id','in',[bsd_du_an_id])]"
                                   options="{'no_create':true}"/>
                            <field name="bsd_tang_id"
                                   domain="[('bsd_toa_nha_id','in',[bsd_toa_nha_id])]"
                                   options="{'no_create':true}"/>
                            <field name="bsd_stt"/>
                        </group>
                        <group>
                            <field name="bsd_ma_unit"/>
                            <field name="bsd_ten_unit"/>
                            <field name="bsd_dien_giai"/>
                            <!--<field name="state"/>-->
                        </group>
                    </group>
                    <group string="PHÂN NHÓM">
                        <group>
                            <field name="bsd_huong"/>
                            <field name="bsd_view"/>
                            <field name="bsd_so_pn"/>
                        </group>
                        <group>
                            <field name="bsd_loai_bds"/>
                            <field name="bsd_phan_loai"/>
                            <field name="bsd_loai_unit"/>
                            <field name="bsd_loai_sp_id"
                                   domain="['|',('bsd_toa_nha_id', 'in',[bsd_toa_nha_id]),
                                   '&amp;',('bsd_toa_nha_id','=',False),('bsd_du_an_id', 'in',[bsd_du_an_id])]"
                                   options="{'no_create':true}"/>
                        </group>
                    </group>
                    <group string="DIỆN TÍCH">
                        <group>
                            <field name="bsd_dt_cl"/>
                            <field name="bsd_dt_xd"/>
                            <field name="bsd_dt_sd"/>
                        </group>
                        <group>
                            <field name="bsd_dt_tt"/>
                            <field name="bsd_dt_sh"/>
                        </group>
                    </group>
                    <group string="GIÁ BÁN">
                        <group>
                            <field name="bsd_tien_dc"/>
                            <field name="bsd_tien_gc"/>
                            <field name="bsd_tl_tc"/>
                            <field name="bsd_don_gia"/>
                            <field name="bsd_gia_ban"/>
                            <field name="bsd_gt_dat"/>
                        </group>
                        <group>
                            <field name="bsd_tong_gtd"/>
                            <field name="bsd_tl_pbt"/>
                            <field name="bsd_phi_bt"/>
                            <field name="bsd_thue_suat"/>
                            <field name="bsd_tien_thue"/>
                            <field name="bsd_tong_gb"/>
                        </group>
                    </group>
                    <group string="MỞ BÁN">
                        <group>
                            <field name="bsd_san_gd_id"
                                   domain="[('is_company', '=',)]"
                                   options="{'no_create':true}"/>
                        </group>
                        <group>
                            <field name="bsd_thanh_ly"/>
                            <field name="bsd_lan_tl"/>
                        </group>
                    </group>
                    <group string="BÀN GIAO">
                        <group>
                            <field name="bsd_ngay_dkbg"/>
                            <field name="bsd_thang_ql"/>
                            <field name="bsd_phi_ql"/>
                            <field name="bsd_dk_bg"/>
                        </group>
                        <group>
                            <field name="bsd_ngay_bg"/>
                            <field name="bsd_ngay_cn"/>
                            <field name="bsd_ngay_hs"/>
                            <field name="bsd_tt_vay"/>
                            <field name="currency_id" invisible="1"/>
                        </group>
                    </group>
                    <group string="ƯU TIÊN">
                        <group>
                            <field name="bsd_uu_tien"/>
                            <field name="bsd_nguoi_duyet_id" options="{'no_create':true}"/>
                            <field name="bsd_ngay_duyet"/>
                            <field name="bsd_lan_duyet"/>
                        </group>
                        <group>
                            <field name="bsd_ghi_chu" attrs="{'readonly':[('bsd_uu_tien','=','0')]}"/>
                            <field name="bsd_nguoi_huy_id" options="{'no_create':true}"/>
                            <field name="bsd_ngay_huy"/>
                        </group>
                    </group>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>
    <record model="ir.ui.view" id="bsd_product_template_tree">
        <field name="name">bsd.product.template.tree</field>
        <field name="model">product.template</field>
        <field name="arch" type="xml">
            <tree>
                <field name="bsd_du_an_id"/>
                <field name="bsd_toa_nha_id"/>
                <field name="bsd_tang_id"/>
                <field name="bsd_ten_unit"/>
                <field name="state"/>
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="bsd_product_template_select">
        <field name="name">bsd.product.template.select</field>
        <field name="model">product.template</field>
        <field name="arch" type="xml">
            <search>
                <field name="bsd_du_an_id"/>
                <field name="bsd_toa_nha_id"/>
                <field name="bsd_tang_id"/>
                <field name="bsd_ten_unit"/>
            </search>
        </field>
    </record>
    <record model="ir.actions.act_window" id="bsd_product_template_action">
        <field name="name">Unit</field>
        <field name="res_model">product.template</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="xml">
            <p>Tạo mới unit</p>
        </field>
        <field name="view_id" ref="bsd_product_template_tree"/>
        <field name="view_ids"
               eval="[(5, 0, 0),
                      (0, 0, {'view_mode': 'tree', 'view_id': ref('bsd_product_template_tree')}),
                      (0, 0, {'view_mode': 'form', 'view_id': ref('bsd_product_template_form')})]"/>
        <field name="search_view_id" ref="bsd_product_template_select"/>
    </record>
</odoo>